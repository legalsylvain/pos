<?xml version="1.0"?>
<!--
    Copyright (C) 2016-Today: La Louve (<http://www.lalouve.net/>)
    @author: Sylvain LE GAL (https://twitter.com/legalsylvain)
    License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
-->

<odoo>

    <record model="ir.ui.view" id="view_pos_session_tree">
        <field name="model">pos.session</field>
        <field name="inherit_id" ref="point_of_sale.view_pos_session_tree"/>
        <field name="arch" type="xml">
            <field name="stop_at" position="after">
                <field name="order_qty" />
                <field name="total_amount" />
            </field>
        </field>
    </record>

    <record model="ir.ui.view" id="view_pos_session_form">
        <field name="model">pos.session</field>
        <field name="inherit_id" ref="point_of_sale.view_pos_session_form"/>
        <field name="arch" type="xml">
            <field name="config_id" position="after">
                <field name="order_qty" />
                <field name="total_amount" />
            </field>
            <field name="total_entry_encoding" position="replace">
                <field name="total_entry_encoding_sales" />
                <field name="total_entry_encoding_cash" />
            </field>
        </field>
    </record>

    <template id="report_sessionsummary_louve" inherit_id="point_of_sale.report_sessionsummary">
        <xpath expr="//table[1]" position="after">
            <p style="page-break-after:always;"/>
        </xpath>
        <xpath expr="//table[@class='table table-condensed mb32']/thead/tr//th[4]" position="replace">
            <th class="text-right">
                <strong>Sale Transactions Subtotal</strong>
            </th>
            <th class="text-right">
                <strong>Cash Moves</strong>
            </th>
        </xpath>
        <xpath expr="//table[@class='table table-condensed mb32']/tbody/tr//td[4]" position="replace">
            <td class="text-right">
                <span t-field="statement.total_entry_encoding_sales"
                    t-field-options='{"widget": "monetary", "display_currency": "statement.currency_id"}'/>
            </td>
            <td class="text-right">
                <span t-field="statement.total_entry_encoding_cash"
                    t-field-options='{"widget": "monetary", "display_currency": "statement.currency_id"}'/>
            </td>
        </xpath>
    </template>

</odoo>
